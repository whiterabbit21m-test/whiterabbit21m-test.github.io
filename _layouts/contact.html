---
layout: default
---
<div class="contact-page">
  <!-- ... (il resto del contenuto HTML rimane invariato) ... -->
  <div class="contact-form">
    <h2>Inviaci un messaggio</h2>
    <form action="https://formspree.io/f/xdkneedq" method="POST">
      <div class="form-group">
        <label for="name">Nome</label>
        <input type="text" id="name" name="name" required>
      </div>
      <div class="form-group">
        <label for="email">La tua email:</label>
        <input type="email" id="email" name="email" required>
      </div>
      <div class="form-group">
        <label for="message">Il tuo messaggio:</label>
        <textarea id="message" name="message" rows="5" required></textarea>
      </div>
      <button type="submit" class="submit-btn">Invia</button>
    </form>
  </div>
</div>

<script>
document.querySelector('form').addEventListener('submit', function(e) {
  e.preventDefault();
  
  fetch(this.action, {
    method: 'POST',
    body: new FormData(this),
    headers: {
      'Accept': 'application/json'
    }
  }).then(response => {
    if (response.ok) {
      // Salva un flag in sessionStorage
      sessionStorage.setItem('formSubmitted', 'true');
      // Reindirizza alla pagina di ringraziamento
      window.location.href = '/thank-you.html';
    } else {
      throw new Error('Errore nell\'invio del form');
    }
  }).catch(error => {
    console.error('Errore:', error);
    alert('Si è verificato un errore nell\'invio del messaggio. Per favore, riprova più tardi.');
  });
});
</script>
